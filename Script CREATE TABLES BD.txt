--CREATE TABLES
CREATE DATABASE DBVENTAS
use DBVENTAS

CREATE TABLE ROL(
id int primary key identity(1,1),
descripcion varchar (50),
fechaRegistro datetime default getdate()
)

CREATE TABLE MENU (
id int primary key identity(1,1),
nombre varchar(50),
icono varchar(50),
url varchar (50)
)

CREATE TABLE MenuRol(
id int primary key identity(1,1),
idMenu int references MENU(id),
idRol int references ROL(id),
)

create table USUARIO(
id int primary key identity(1,1),
nombresCompleto varchar(100),
correo varchar(60),
clave varchar(40),
idRol int references ROL(id),
activo bit default 1,
fechaRegistro datetime default getdate()
)

create table CATEGORIA(
id int primary key identity(1,1),
descripcion varchar(50),
activo bit default 1,
fechaRegistro datetime default getdate()
)

create table PRODUCTO (
id int primary key identity(1,1),
descripcion varchar(50),
idCategoria int references CATEGORIA(id),
stock int, 
precio decimal(10,2),
activo bit default 1,
fechaRegistro datetime default getdate()
)

create table NUMERODOCUMENTO(
id int primary key identity(1,1),
ultimo_numero int not null,
fechaRegistro datetime default getdate()
)

create table VENTA (
id int primary key identity(1,1),
numeroDocumento varchar(50),
tipoPago varchar(50),
total decimal (10,2),
fechaRegistro datetime default getdate()
)

create table DETALLEVENTA(
id int primary key identity(1,1),
idVenta int references VENTA(id),
idProducto int references PRODUCTO (id),
cantidad int, 
precio decimal(10,2),
fechaRegistro datetime default getdate()
)